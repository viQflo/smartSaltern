<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>Account Settings - Security - SB Admin Pro</title>
<link href="css/styles.css" rel="stylesheet" />
<link rel="icon" type="image/x-icon" href="assets/img/favicon.png" />
<script data-search-pseudo-elements defer
	src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js"
	crossorigin="anonymous"></script>
</head>

<body>
	<!-- 헤더 포함 -->
	<div th:replace="fragments/header"></div>
	<!-- 메인  -->
	<div class="container-xl px-4 mt-5">
		<main>
			<!-- Main page content-->
			<div class="container-xl px-4 mt-4">
				<hr class="mt-0 mb-4" />
				<div class="row">
					<div class="col-lg-8">
						<!-- 비밀번호 변경 card-->
						<div class="card mb-4">
							<div class="card-header">비밀번호 변경</div>
							<div class="card-body">
								<form>
									<!-- Form Group (current password)-->
									<div class="mb-3">
										<label class="small mb-1" for="currentPassword">현재
											비밀번호</label> <input class="form-control" id="currentPassword"
											type="password" placeholder="현재 비밀번호를 입력하세요" />
									</div>
									<!-- Form Group (new password)-->
									<div class="mb-3">
										<label class="small mb-1" for="newPassword">새 비밀번호</label> <input
											class="form-control" id="newPassword" type="password"
											placeholder="새 비밀번호를 입력하세요" />
									</div>
									<!-- Form Group (confirm password)-->
									<div class="mb-3">
										<label class="small mb-1" for="confirmPassword">비밀번호
											확인</label> <input class="form-control" id="confirmPassword"
											type="password" placeholder="새 비밀번호 확인" />
									</div>
									<button class="btn btn-primary" type="button">저장</button>
								</form>
							</div>
						</div>
						<!-- 보안 기본 설정 card-->
						<div class="card mb-4">
							<div class="card-header">보안 기본 설정</div>
							<div class="card-body">
								<!-- 계정 개인정보 보호 optinos-->
								<h5 class="mb-1">계정 개인정보 보호</h5>
								<p class="small text-muted">계정을 비공개로 설정하면 프로필 정보와 게시물이 사용자
									그룹 외부의 사용자에게 보이지 않습니다.</p>
								<form>
									<div class="form-check">
										<input class="form-check-input" id="radioPrivacy1"
											type="radio" name="radioPrivacy" checked /> <label
											class="form-check-label" for="radioPrivacy1">공개 (게시물이
											모든 사용자에게 제공됩니다)</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" id="radioPrivacy2"
											type="radio" name="radioPrivacy" /> <label
											class="form-check-label" for="radioPrivacy2">비공개
											(게시물이 사용자 그룹 내 사용자에게만 제공됩니다)</label>
									</div>
								</form>
								<hr class="my-4" />
								<!-- 데이터 공유 options-->
								<h5 class="mb-1">데이터 공유</h5>
								<p class="small text-muted">사용 데이터를 공유하면 제품 개선과 애플리케이션 탐색 중
									사용자에게 더 나은 서비스를 제공하는 데 도움이 됩니다. 사용 데이터를 공유하는 데 동의하면, 크래시 보고서와
									사용 분석 데이터가 자동으로 개발팀에 전달되어 문제를 조사하게 됩니다.</p>
								<form>
									<div class="form-check">
										<input class="form-check-input" id="radioUsage1" type="radio"
											name="radioUsage" checked /> <label class="form-check-label"
											for="radioUsage1">예, 앱 개발자와 데이터 및 크래시 보고서를 공유합니다.</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" id="radioUsage2" type="radio"
											name="radioUsage" /> <label class="form-check-label"
											for="radioUsage2">아니요, 앱 개발자와의 데이터 공유를 제한합니다.</label>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<!-- 2단계 인증 card-->
						<div class="card mb-4">
							<div class="card-header">2단계 인증</div>
							<div class="card-body">
								<p>이중 인증을 활성화하여 계정에 추가적인 보안 단계를 추가하세요. 인식되지 않은 기기와 브라우저에서
									로그인 시도를 할 경우, 확인을 위해 문자 메시지를 보내드립니다.</p>
								<form>
									<div class="form-check">
										<input class="form-check-input" id="twoFactorOn" type="radio"
											name="twoFactor" checked /> <label class="form-check-label"
											for="twoFactorOn">활성화</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" id="twoFactorOff" type="radio"
											name="twoFactor" /> <label class="form-check-label"
											for="twoFactorOff">비활성화</label>
									</div>
									<div class="mt-3">
										<label class="small mb-1" for="twoFactorSMS">휴대전화 번호</label> <input
											class="form-control" id="twoFactorSMS" type="tel"
											placeholder="Enter a phone number" value="555-123-4567" />
									</div>
								</form>
							</div>
						</div>
						<!-- Delete account card-->
						<div class="card mb-4">
							<div class="card-header">계정 삭제</div>
							<div class="card-body">
								<p>계정 삭제는 영구적인 작업이며 되돌릴 수 없습니다. 계정을 삭제하려는 것이 확실하다면 아래 버튼을
									선택하세요.</p>
								<button class="btn btn-danger-soft text-danger" type="button">내용을
									이해했으며, 계정을 삭제합니다.</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
	</div>
	<!-- 푸터 포함 -->
	<div th:replace="~{fragments/footer}"></div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script>
	    function deleteAccount() {
	        if (confirm("정말 계정을 삭제하시겠습니까? 삭제 후 복구할 수 없습니다.")) {
	            fetch('/user/delete', { 
	                method: 'DELETE',
	                headers: { 'Content-Type': 'application/json' }
	            })
	            .then(response => {
	                if (response.ok) {
	                    alert("계정이 삭제되었습니다. 메인 페이지로 이동합니다.");
	                    window.location.href = "/main.html"; // 메인 페이지로 이동
	                } else {
	                    alert("계정 삭제에 실패했습니다.");
	                }
	            })
	            .catch(error => console.error('Error:', error));
	        }
	    }
	</script>
</body>

</html>